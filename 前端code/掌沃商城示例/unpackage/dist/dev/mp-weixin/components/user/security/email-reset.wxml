<zw-dialog vue-id="821ea644-1" hidden="{{hidden}}" title="修改安全邮箱" width="{{450}}" height="{{300}}" showHeaderBg="{{false}}" borderRadius="{{true}}" data-event-opts="{{[['^close',[['closeDialog']]]]}}" bind:close="__e" bind:__l="__l" vue-slots="{{['default']}}"><view class="form-wrap"><steps vue-id="{{('821ea644-2')+','+('821ea644-1')}}" steps="{{['输入新邮箱','验证新邮箱','完成']}}" step="{{step}}" bind:__l="__l"></steps><block wx:if="{{step==0}}"><view data-event-opts="{{[['keydown',[['goStep2',['$event']]]]]}}" bindkeydown="__e"><view class="form-item-title">请输入新的安全邮箱地址</view><view class="form-item"><input placeholder="请输入邮箱" data-event-opts="{{[['input',[['__set_model',['','email','$event',[]]]]]]}}" value="{{email}}" bindinput="__e"/></view><view class="form-item"><input placeholder="图片验证码" maxlength="4" data-event-opts="{{[['input',[['__set_model',['','captcha','$event',[]]]]]]}}" value="{{captcha}}" bindinput="__e"/><image class="captcha" src="{{$util.baseUrl+'/security/captcha?key='+random}}" title="点击刷新" data-event-opts="{{[['tap',[['getRandom',['$event']]]]]}}" bindtap="__e"></image></view><view class="form-item btn-wrap"><button data-event-opts="{{[['tap',[['goStep2',['$event']]]]]}}" class="btn-primary" bindtap="__e">下一步</button></view></view></block><block wx:if="{{step==1}}"><view data-event-opts="{{[['keydown',[['submit',['$event']]]]]}}" bindkeydown="__e"><view class="form-item-title small"><view class="email-wrap">我们向<text class="email elip">{{email}}</text>发送了验证邮件</view><view>请输入邮件中的验证码</view></view><view class="form-item"><input placeholder="请输入验证码" maxlength="6" type="number" data-event-opts="{{[['input',[['__set_model',['','code','$event',[]]]]]]}}" value="{{code}}" bindinput="__e"/><view data-event-opts="{{[['tap',[['sendEmail',['$event']]]]]}}" class="{{['btn-send',[(sendBtn.disabled)?'disabled':'']]}}" bindtap="__e">{{sendBtn.text}}</view></view><view class="form-item btn-wrap"><button data-event-opts="{{[['tap',[['submit',['$event']]]]]}}" class="btn-primary" bindtap="__e">确定</button><button data-event-opts="{{[['tap',[['e0',['$event']]]]]}}" class="btn-gray" bindtap="__e">取消</button></view></view></block><block wx:if="{{step==2}}"><view><view class="form-item-title tip">您已成功修改安全邮箱！</view><view class="form-item btn-wrap"><button data-event-opts="{{[['tap',[['closeDialog',['$event']]]]]}}" class="btn-primary" bindtap="__e">返回我的账号</button></view></view></block></view></zw-dialog>